import{a as I}from"./chunk-NHDFJ2WU.js";import{B as x,C as E,G as A,I as M,L as d,N as D,O as z,Q as U,R as B,S as N,T as g,X as T,_ as O,a as L,aa as P,b as h,ca as V,d as f,da as _,fa as Q,i as H,j as S,k as C,l as F,n as b,s as w,v as j,w as W,x as G}from"./chunk-Y5M3B4OQ.js";var R=class{constructor(e,y=512,n=512){this.colorMatrixLeft=new x().fromArray([.4561,-.0400822,-.0152161,.500484,-.0378246,-.0205971,.176381,-.0157589,-.00546856]),this.colorMatrixRight=new x().fromArray([-.0434706,.378476,-.0721527,-.0879388,.73364,-.112961,-.00155529,-.0184503,1.2264]);let t=new B(-1,1,1,-1,0,1),c=new g,a=new _,u={minFilter:W,magFilter:j,format:G},l=new E(y,n,u),m=new E(y,n,u),v=new D({uniforms:{mapLeft:{value:l.texture},mapRight:{value:m.texture},colorMatrixLeft:{value:this.colorMatrixLeft},colorMatrixRight:{value:this.colorMatrixRight}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = vec2( uv.x, uv.y );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","varying vec2 vUv;","uniform mat3 colorMatrixLeft;","uniform mat3 colorMatrixRight;","void main() {","	vec2 uv = vUv;","	vec4 colorL = texture2D( mapLeft, uv );","	vec4 colorR = texture2D( mapRight, uv );","	vec3 color = clamp(","			colorMatrixLeft * colorL.rgb +","			colorMatrixRight * colorR.rgb, 0., 1. );","	gl_FragColor = vec4(","			color.r, color.g, color.b,","			max( colorL.a, colorR.a ) );","	#include <tonemapping_fragment>","	#include <colorspace_fragment>","}"].join(`
`)}),p=new d(new U(2,2),v);c.add(p),this.setSize=function(i,o){e.setSize(i,o);let s=e.getPixelRatio();l.setSize(i*s,o*s),m.setSize(i*s,o*s)},this.render=function(i,o){let s=e.getRenderTarget();i.matrixWorldAutoUpdate===!0&&i.updateMatrixWorld(),o.parent===null&&o.matrixWorldAutoUpdate===!0&&o.updateMatrixWorld(),a.update(o),e.setRenderTarget(l),e.clear(),e.render(i,a.cameraL),e.setRenderTarget(m),e.clear(),e.render(i,a.cameraR),e.setRenderTarget(null),e.render(c,t),e.setRenderTarget(s)},this.dispose=function(){l.dispose(),m.dispose(),p.geometry.dispose(),p.material.dispose()}}};var K=["scene"],Y=(()=>{let e=class e{constructor(){this.scene=new g,this.camera=new z(45,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new N}ngOnInit(){this.initThreeScene(),this.setupVR()}setupVR(){this.renderer.xr.enabled=!0,this.sceneElement.nativeElement.appendChild(Q.createButton(this.renderer))}initThreeScene(){let n=new R(this.renderer);n.setSize(window.innerWidth,window.innerHeight);let t=new O;this.scene.background=t.load("../../assets/background.jpg"),this.renderer.setSize(window.innerWidth,window.innerHeight),this.sceneElement.nativeElement.appendChild(this.renderer.domElement);let c=new I(this.camera,this.renderer.domElement);this.camera.position.set(-90,140,140),c.update();let a=new V(16724787);this.scene.add(a);let u=new T(16,30,30),l=new M({map:t.load("../assets/planets/sun.jpg")}),m=new d(u,l);this.scene.add(m);let v=new T(3.2,30,30),p=new M({map:t.load("../assets/planets/mercury.jpg")}),i=new d(v,p);i.position.x=28;let o=new A;o.add(i),this.scene.add(o);let s=new P(16777215,2,300);this.scene.add(s);let J=()=>{m.rotateY(.04),o.rotateY(.04),n.render(this.scene,this.camera)};this.renderer.setAnimationLoop(J)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=L({type:e,selectors:[["app-solar-system"]],viewQuery:function(t,c){if(t&1&&S(K,7),t&2){let a;C(a=F())&&(c.sceneElement=a.first)}},decls:2,vars:0,consts:[["scene",""]],template:function(t,c){t&1&&H(0,"div",null,0)}});let r=e;return r})();var X=[{path:"",component:Y}],q=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h({type:e}),e.\u0275inj=f({imports:[w.forChild(X),w]});let r=e;return r})();var de=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h({type:e}),e.\u0275inj=f({imports:[b,q]});let r=e;return r})();export{de as SolarSystemModule};
